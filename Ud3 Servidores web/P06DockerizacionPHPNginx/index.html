
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://laura-agut.github.io/Despliegue/Ud3%20Servidores%20web/P06DockerizacionPHPNginx/">
      
      
        <link rel="prev" href="../P05/">
      
      
        <link rel="next" href="../PV01/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>Pr√°ctica 3.6 - Instalaci√≥n pila LAMP dockerizada - Despliegue de aplicaciones web</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-36-instalacion-pila-lamp-dockerizada" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Despliegue de aplicaciones web" class="md-header__button md-logo" aria-label="Despliegue de aplicaciones web" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Despliegue de aplicaciones web
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Pr√°ctica 3.6 - Instalaci√≥n pila LAMP dockerizada
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-orange"  aria-label="Cambiar a modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B√∫squeda" placeholder="B√∫squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b√∫squeda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navegaci√≥n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Despliegue de aplicaciones web" class="md-nav__button md-logo" aria-label="Despliegue de aplicaciones web" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Despliegue de aplicaciones web
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Despliegue de aplicaciones web
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ud0 Introduccion
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Ud0 Introduccion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/Ud0_1Introalmodulo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0.1. Introducci√≥n al m√≥dulo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/Ud0_2AWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0.2. Introducci√≥n a AWS Academy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/ejercicio-final-ebs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üß™ Ejercicio final: modifica, prueba en local y despliega en Elastic Beanstalk
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pr√°cticas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Pr√°cticas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.1. Linux Server en AWSAcademy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.2 Windows Server en AWSAcademy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.3. Conceder acceso a un segundo administrador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.4. Comandos b√°sicos Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.5: Despliegue Java en AWS Elastic Beanstalk
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="practica-36-instalacion-pila-lamp-dockerizada">Pr√°ctica 3.6 - Instalaci√≥n pila LAMP dockerizada</h1>
<h2 id="introduccion">Introducci√≥n</h2>
<p>En esta pr√°ctica vamos a instalar una pila LAMP dockerizada. Para comprobar que todos los contenedores trabajan conjuntamente desplegaremos una peque√±a aplicaci√≥n PHP que consulta la base de datos instalada.</p>
<div class="admonition warning">
<p class="admonition-title">¬°Atenci√≥n!</p>
<p>En caso de que teng√°is problemas, esta pr√°ctica est√° comprobada y funcionando usando las siguientes versiones:</p>
<ul>
<li><strong><u>Docker:</u></strong> Docker version 20.10.17, build 100c701</li>
<li><strong><u>Docker-compose:</u></strong> Docker Compose version v2.10.2</li>
</ul>
</div>
<h3 id="recordando-que-es-docker-compose">Recordando qu√© es <em>docker-compose</em></h3>
<p>Como vimos en la parte de teor√≠a para ejecutar nuestra aplicaci√≥n en docker creamos un fichero llamado <code>Dockerfile</code> y este fichero contiene una configuraci√≥n. Esta configuraci√≥n var√≠a dependiendo de qu√© queremos poner en el contenedor, ya que no es lo mismo poner una p√°gina web, que una base de datos.</p>
<p>Este proceso, de crear todos los <code>Dockerfile</code> y ejecutarlos puede ser bastante tedioso, ya que debemos pensar que una aplicaci√≥n de tama√±o mediano es probable que tenga un front end, un back end, quiz√° algunos background-workers as√≠ como la base de datos, sistema de cach√©, sistema de colas o de message-broker... por lo que cada uno de nuestros servicios ser√° un contenedor diferente.</p>
<p>Por lo tanto, crear m√∫ltiples <code>Dockerfile</code> y ejecutarlos todo en un script queda largo y feo.</p>
<p>Aqu√≠ es donde entra <code>docker-compose</code> el cual es una herramienta que nos permite definir y correr m√∫ltiples contenedores en Docker. Estos m√∫ltiples contenedores se definen en un fichero denominado docker-compose con la extensi√≥n .yml. Luego, con un solo comando, crea e inicia todos los servicios desde su configuraci√≥n.</p>
<p><img alt="" src="../P2_6/compose.jpeg" /></p>
<p>Compose funciona en todos los entornos: producci√≥n, puesta en escena, desarrollo, pruebas, as√≠ como flujos de trabajo de CI.</p>
<p>Usar Compose es b√°sicamente un proceso de tres pasos:</p>
<ul>
<li>
<p>Definir el entorno de nuestra aplicaci√≥n con un Dockerfile para que pueda reproducirse en cualquier lugar.</p>
</li>
<li>
<p>Definir los servicios que componen la aplicaci√≥n <code>docker-compose.yml</code> para que puedan ejecutarse juntos en un entorno aislado.</p>
</li>
<li>
<p>Ejecutar <code>docker-compose up</code> y Compose inicia y ejecuta toda su aplicaci√≥n.</p>
</li>
</ul>
<p>Este proceso se denomina orquestaci√≥n de contenedores y se lleva a cabo de forma local al interior de los containers, quienes, adem√°s, se encontrar√°n unidos a trav√©s de una red de Docker.</p>
<h2 id="instalacion-de-docker-compose">Instalaci√≥n de <em>docker-compose</em></h2>
<h2 id="proceso-de-dockerizacion-de-nginxphpmysql">Proceso de dockerizaci√≥n de Nginx+PHP+MySQL</h2>
<h3 id="1-estructura-de-directorios">1. Estructura de directorios</h3>
<p>Para que quede claro todo el proceso que vamos a seguir, la estructura de directorios que nos debe quedar en nuestra Debian al finalizar la pr√°ctica es esta:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>/usuario/home/practica6-2/
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>‚îú‚îÄ‚îÄ docker-compose.yml
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>‚îú‚îÄ‚îÄ nginx
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>‚îÇ   ‚îú‚îÄ‚îÄ default.conf
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>‚îú‚îÄ‚îÄ php
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>‚îî‚îÄ‚îÄ www
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    ‚îî‚îÄ‚îÄ html
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        ‚îî‚îÄ‚îÄ index.php
</code></pre></div>
Pod√©is ir creando los directorios y archivos paso a paso o crearlo todo a la vez y luego ir rellenando los archivos vac√≠os siguiendo un procedimiento como este:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>mkdir<span class="w"> </span>practica6-2
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nb">cd</span><span class="w"> </span>practica6-2
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>touch<span class="w"> </span>docker-compose.yml
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>mkdir<span class="w"> </span>nginx
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>touch<span class="w"> </span>nginx/default.conf
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>...
</code></pre></div>
<h3 id="2-creacion-de-un-contenedor-nginx">2. Creaci√≥n de un contenedor Nginx</h3>
<p>Paara empezar, necesitamos crear y correr un contendor Nginx que permita alojar nuestra aplicaci√≥n en PHP.</p>
<p><strong>Dentro de la carpeta /usuario/home/practica6-2/</strong> debemos haber creado o crear ahora el archivo <code>docker-compose.yml</code></p>
<p>Y editamos este archivo con el editor de texto que prefiramos, nano por ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>nano<span class="w"> </span>docker-compose.yml
</code></pre></div>
<p>Y a√±adimos la siguientes l√≠neas:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>nginx:
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>  image: nginx:latest
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>  container_name: nginx-container
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>  ports:
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    - 80:80
</code></pre></div>
<p>Y lo guardamos.</p>
<p>El archivo que acabamos de crear ser√° el encargado de descargarse la √∫ltima versi√≥n de la imagen de Nginx, crear un contenedor con ella y publicar o escuchar en el puerto 80 del contenedor que tambi√©n se corresponder√° con el 80 de nuestra m√°quina (80:80).</p>
<p>Iniciemos entonces este proceso:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>docker-compose up -d
</code></pre></div>
Con la opci√≥n <code>-d</code> (de daemon), estamos indicando que el contenedor se ejecute en background o segundo plano:</p>
<p><img alt="" src="../P2_6/detached.png" /></p>
<p>Para comprobar que el contenedor est√° corriendo, podemos hacer:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>docker<span class="w"> </span>ps
</code></pre></div>
<p>Y deber√≠amos ver algo como:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                               NAMES
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>c6641e4d5bbf   nginx:latest   &quot;/docker-entrypoint.‚Ä¶&quot;   5 seconds ago   Up 3 seconds   0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp   nginx-container
</code></pre></div>
<p>Adem√°s, si abrimos el navegador de nuestra m√°quina anfitri√≥n y accedemos a <code>http://IP_Maq_Virtual</code> deber√≠amos ver la p√°gina de bienvenida de Nginx:</p>
<p><img alt="" src="../P2_6/nginx-test.png" /></p>
<h3 id="3-creacion-de-un-contenedor-php">3. Creaci√≥n de un contenedor PHP</h3>
<p>Creamos la carpeta y el documento pertinente dentro de ella, si no lo hab√≠amos hecho antes:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>/home/usuario/practica6-2/www/html
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>nano<span class="w"> </span>/home/usuario/practica6-2/www/html/index.php
</code></pre></div>
Y dentro de <code>index.php</code> a√±adimos el siguiente c√≥digo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="cp">&lt;!DOCTYPE html&gt;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>¬°Hola mundo!<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>¬°Hola mundo!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">&lt;?php echo &#39;Estamos corriendo PHP, version: &#39; . phpversion(); ?&gt;</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div>
<p>Guardad el archivo y cread, si no lo hab√≠ais hecho antes, un directorio llamado <em>nginx</em> dentro del directorio del proyecto:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>mkdir<span class="w"> </span>/home/usuario/practica6-2/nginx
</code></pre></div>
Ahora vamos a crear el archivo de configuraci√≥n por defecto para que Nginx pueda correr la aplicaci√≥n PHP:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>nano<span class="w"> </span>/home/usuario/practica6-2/nginx/default.conf
</code></pre></div>
<p>Y dentro de ese archivo, colocaremos la siguiente configuraci√≥n:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nb">server</span><span class="w"> </span>{
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">     </span><span class="nb">listen</span><span class="w"> </span><span class="m">80</span><span class="w"> </span>default_server;
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">     </span><span class="nb">root</span><span class="w"> </span><span class="sx">/var/www/html</span>;
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">     </span><span class="nb">index</span><span class="w"> </span>index.html<span class="w"> </span>index.php;
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">     </span><span class="nb">charset</span><span class="w"> </span>utf-8;
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">     </span><span class="nb">location</span><span class="w"> </span>/<span class="w"> </span>{
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">      </span><span class="nb">try_files</span><span class="w"> </span>$uri<span class="w"> </span>$uri/<span class="w"> </span><span class="sx">/index.php</span>?$query_string;
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">     </span><span class="err">}</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">     </span><span class="nb">location</span><span class="w"> </span>=<span class="w"> </span><span class="sx">/favicon.ico</span><span class="w"> </span>{<span class="w"> </span>access_log<span class="w"> </span><span class="k">off</span>;<span class="w"> </span>log_not_found<span class="w"> </span><span class="k">off</span>;<span class="w"> </span>}
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">     </span><span class="nb">location</span><span class="w"> </span>=<span class="w"> </span><span class="sx">/robots.txt</span><span class="w"> </span>{<span class="w"> </span>access_log<span class="w"> </span><span class="k">off</span>;<span class="w"> </span>log_not_found<span class="w"> </span><span class="k">off</span>;<span class="w"> </span>}
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">     </span><span class="nb">access_log</span><span class="w"> </span><span class="k">off</span>;
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">     </span><span class="nb">error_log</span><span class="w"> </span><span class="sx">/var/log/nginx/error.log</span><span class="w"> </span><span class="k">error</span>;
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="w">     </span><span class="nb">sendfile</span><span class="w"> </span><span class="k">off</span>;
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">     </span><span class="nb">client_max_body_size</span><span class="w"> </span><span class="m">100</span>m;
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a>
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">     </span><span class="nb">location</span><span class="w"> </span>~<span class="w"> </span>.php$<span class="w"> </span>{
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">      </span><span class="nb">fastcgi_split_path_info</span><span class="w"> </span>^(.+.php)(/.+)$;
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="w">      </span><span class="nb">fastcgi_pass</span><span class="w"> </span>php:9000;
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">      </span><span class="nb">fastcgi_index</span><span class="w"> </span>index.php;
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="w">      </span><span class="nb">include</span><span class="w"> </span>fastcgi_params;
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="w">      </span><span class="nb">fastcgi_param</span><span class="w"> </span>SCRIPT_FILENAME<span class="w"> </span>$document_root$fastcgi_script_name;
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">      </span><span class="nb">fastcgi_intercept_errors</span><span class="w"> </span><span class="k">off</span>;
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="w">      </span><span class="nb">fastcgi_buffer_size</span><span class="w"> </span><span class="m">16</span>k;
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="w">      </span><span class="nb">fastcgi_buffers</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">16</span>k;
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="w">    </span><span class="err">}</span>
<a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a>
<a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="w">     </span><span class="nb">location</span><span class="w"> </span>~<span class="w"> </span>/.ht<span class="w"> </span>{
<a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="w">      </span><span class="nb">deny</span><span class="w"> </span><span class="k">all</span>;
<a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="w">     </span><span class="err">}</span>
<a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="w">    </span><span class="err">}</span>
</code></pre></div>
Guardamos el archivo y ahora crearemos el <code>Dockerfile</code> dentro del directorio <em>nginx</em>. En este archivo se copiar√° el archivo de configuraci√≥n de Nginx al contenedor correspondiente.</p>
<p>As√≠ pues:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>nano<span class="w"> </span>/home/usuario/practica6-2/nginx/Dockerfile
</code></pre></div>
Y dentro de este archivo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">nginx:latest</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="k">COPY</span><span class="w"> </span>./default.conf<span class="w"> </span>/etc/nginx/conf.d/default.conf
</code></pre></div>
<p>Y ahora editamos nuestro archivo <code>docker-compose.yml</code>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>services:
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span>nginx:
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span>build:<span class="w"> </span>./nginx/
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span>container_name:<span class="w"> </span>nginx-container
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span>ports:
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">      </span>-<span class="w"> </span><span class="m">80</span>:80
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span>links:
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">      </span>-<span class="w"> </span>php
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span>volumes:
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">      </span>-<span class="w"> </span>./www/html/:/var/www/html/
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">  </span>php:
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span>image:<span class="w"> </span>php:7.0-fpm
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">    </span>container_name:<span class="w"> </span>php-container
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span>expose:
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="w">      </span>-<span class="w"> </span><span class="m">9000</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="w">    </span>volumes:
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="w">      </span>-<span class="w"> </span>./www/html/:/var/www/html/
</code></pre></div>
Ahora con este fichero <code>docker-compose.yml</code> se crear√° un nuevo contenedor PHP-FPM en el puerto 9000, enlazar√° el contenedor <em>nginx</em> con el contendor <em>php</em>, as√≠ como usar√° el directorio local de la m√°quina host ~/practica6-2/www/html y lo montar√° en el directorio <code>/var/www/html</code> de los contenedores.</p>
<p>As√≠ pues, ejecutaremos el nuevo contenedor volviendo a ejecutando compose. Cuidado pues se debe ejecutar el comando en el mismo directorio donde tengamos nuestro archivo <code>docker-compose.yml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nb">cd</span><span class="w"> </span>/home/usuario/practica6-2
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div>
<p>Y comprobamos que los contenedores est√°n corriendo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>docker<span class="w"> </span>ps
</code></pre></div>
<p>Debiendo ver algo como:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>CONTAINER ID   IMAGE                  COMMAND                  CREATED          STATUS          PORTS                               NAMES
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>82c8baf15221   docker-project_nginx   &quot;/docker-entrypoint.‚Ä¶&quot;   23 seconds ago   Up 22 seconds   0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp   nginx-container
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>10778c6686d8   php:7.0-fpm            &quot;docker-php-entrypoi‚Ä¶&quot;   25 seconds ago   Up 23 seconds   9000/tcp                            php-container
</code></pre></div>
<p>Y si ahora volvemos a acceder a <code>http://IP_Maq_Virtual</code>, veremos la p√°gina <code>Hola mundo</code>.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>¬øLa directiva <code>links</code> es necesaria? ¬øQu√© pasar√≠a si la eliminamos?</p>
</div>
<h3 id="4-creacion-de-un-contenedor-para-datos">4. Creaci√≥n de un contenedor para datos</h3>
<p>Como v√©is, hemos montado el directorio <code>www/html</code> en ambos contenedores, el de nginx y el de php. Sin embargo, esta no es una forma adecuada de hacerlo. En este paso crearemos un contenedor independiente que se encargar√° de contener los datos y lo enlazaremos con el resto de contenedores.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Esta pr√°ctica est√° sacada de <a href="https://www.atlantic.net/vps-hosting/how-to-deploy-a-php-application-with-nginx-and-mysql-using-docker-and-docker-compose/">aqu√≠</a>. En esta pr√°ctica usa un contenedor para guardar datos en lugar de usar un "volumen" docker. Mantenemos esta forma de hacerlo para que veas formas distintas de trabajo con docker que puedes encontrarte, aunque pensamos que no es la forma m√°s adecuada. Piensa c√≥mo podr√≠as hacer lo mismo con vol√∫menes.</p>
</div>
<p>Para llevar a cabo esta tarea, volvemos a editar el <code>docker-compose.yml</code>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>nano<span class="w"> </span>~/practica6-2/docker-compose.yml
</code></pre></div>
Y a√±adiremos un nuevo servicio a los que ya ten√≠amos, quedando as√≠:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>nginx:
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">  </span>build:<span class="w"> </span>./nginx/
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">  </span>container_name:<span class="w"> </span>nginx-container
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span>ports:
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span>-<span class="w"> </span><span class="m">80</span>:80
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">  </span>links:
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span>-<span class="w"> </span>php
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">  </span>volumes_from:
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">    </span>-<span class="w"> </span>app-data
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>php:
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">  </span>image:<span class="w"> </span>php:7.0-fpm
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">  </span>container_name:<span class="w"> </span>php-container
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">  </span>expose:
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">    </span>-<span class="w"> </span><span class="m">9000</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">  </span>volumes_from:
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">    </span>-<span class="w"> </span>app-data
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>app-data:
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">  </span>image:<span class="w"> </span>php:7.0-fpm
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">  </span>container_name:<span class="w"> </span>app-data-container
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">  </span>volumes:
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">    </span>-<span class="w"> </span>./www/html/:/var/www/html/
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">  </span>command:<span class="w"> </span><span class="s2">&quot;true&quot;</span>
</code></pre></div>
<p>As√≠ que para recrear y lanzar todos los contenedores ejecutamos de nuevo (recordad, dentro del directorio donde se encuentra el archivo):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div>
<p>Y volvemos a verificar que est√°n corriendo todos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a
</code></pre></div>
<p>Debiendo ver algo como:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>CONTAINER ID   IMAGE                  COMMAND                  CREATED          STATUS                      PORTS                               NAMES
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>849315c7ffc0   docker-project_nginx   &quot;/docker-entrypoint.‚Ä¶&quot;   27 seconds ago   Up 25 seconds               0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp   nginx-container
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>59a0d7040fd8   php:7.0-fpm            &quot;docker-php-entrypoi‚Ä¶&quot;   28 seconds ago   Up 27 seconds               9000/tcp                            php-container
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>fbca95944234   php:7.0-fpm            &quot;docker-php-entrypoi‚Ä¶&quot;   29 seconds ago   Exited (0) 28 seconds ago                                       app-data-container
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>¬øTiene sentido usar un contenedor cuya √∫nica funci√≥n es alojar datos? ¬øQu√© otra forma nos ofrece docker para este cometido? ¬øC√≥mo podr√≠as modificar el docker-compose.yaml para hacerlo?</p>
</div>
<h3 id="5-creacion-de-un-contenedor-mysql">5. Creaci√≥n de un contenedor MySQL</h3>
<p>En esta secci√≥n crearemos un contenedor de una base de datos MySQL y lo enlazaremos con el resto de contenedores.</p>
<p>Primero, modificaremos la imagen PHP e instalaremos la extensi√≥n PHP para MySQL, de tal forma que nos permita conectarnos desde nuestra aplicaci√≥n PHP a nuestra BBDD MySQL.</p>
<p>Creamos, si no lo ten√≠amos ya, nuestro directorio <em>php</em> y dentro de √©l, el archivo <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>mkdir<span class="w"> </span>/home/usuario/practica6-2/php
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>nano<span class="w"> </span>/home/usuario/practica6-2/php/Dockerfile
</code></pre></div>
<p>Y dentro del <code>Dockerfile</code> ponemos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">php:7.0-fpm</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="k">RUN</span><span class="w"> </span>docker-php-ext-install<span class="w"> </span>pdo_mysql
</code></pre></div>
<p>Y una vez m√°s, debemos editar <code>docker-compose.yml</code> con el objetivo de que se creen el contenedor para MySQL y el contenedor de los datos de MySQL que contendr√° la base de datos y las tablas:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>services:
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">  </span>nginx:
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span>build:<span class="w"> </span>./nginx/
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">    </span>container_name:<span class="w"> </span>nginx-container
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">    </span>ports:
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">      </span>-<span class="w"> </span><span class="m">80</span>:80
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">    </span>links:
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">      </span>-<span class="w"> </span>php
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">    </span>volumes_from:
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">      </span>-<span class="w"> </span>app-data
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">  </span>php:
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="w">    </span>build:<span class="w"> </span>./php/
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">    </span>container_name:<span class="w"> </span>php-container
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">    </span>expose:
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">      </span>-<span class="w"> </span><span class="m">9000</span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">    </span>links:
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="w">      </span>-<span class="w"> </span>mysql
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="w">    </span>volumes_from:
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="w">      </span>-<span class="w"> </span>app-data
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a>
<a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a><span class="w">  </span>app-data:
<a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a><span class="w">    </span>image:<span class="w"> </span>php:7.0-fpm
<a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a><span class="w">    </span>container_name:<span class="w"> </span>app-data-container
<a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a><span class="w">    </span>volumes:
<a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a><span class="w">      </span>-<span class="w"> </span>./www/html/:/var/www/html/
<a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a><span class="w">    </span>command:<span class="w"> </span><span class="s2">&quot;true&quot;</span>
<a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a>
<a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a><span class="w">  </span>mysql:
<a id="__codelineno-25-29" name="__codelineno-25-29" href="#__codelineno-25-29"></a><span class="w">    </span>image:<span class="w"> </span>mysql:5.7
<a id="__codelineno-25-30" name="__codelineno-25-30" href="#__codelineno-25-30"></a><span class="w">    </span>container_name:<span class="w"> </span>mysql-container
<a id="__codelineno-25-31" name="__codelineno-25-31" href="#__codelineno-25-31"></a><span class="w">    </span>volumes_from:
<a id="__codelineno-25-32" name="__codelineno-25-32" href="#__codelineno-25-32"></a><span class="w">      </span>-<span class="w"> </span>mysql-data
<a id="__codelineno-25-33" name="__codelineno-25-33" href="#__codelineno-25-33"></a><span class="w">    </span>environment:
<a id="__codelineno-25-34" name="__codelineno-25-34" href="#__codelineno-25-34"></a><span class="w">      </span>MYSQL_ROOT_PASSWORD:<span class="w"> </span>secret
<a id="__codelineno-25-35" name="__codelineno-25-35" href="#__codelineno-25-35"></a><span class="w">      </span>MYSQL_DATABASE:<span class="w"> </span>mydb
<a id="__codelineno-25-36" name="__codelineno-25-36" href="#__codelineno-25-36"></a><span class="w">      </span>MYSQL_USER:<span class="w"> </span>myuser
<a id="__codelineno-25-37" name="__codelineno-25-37" href="#__codelineno-25-37"></a><span class="w">      </span>MYSQL_PASSWORD:<span class="w"> </span>password
<a id="__codelineno-25-38" name="__codelineno-25-38" href="#__codelineno-25-38"></a>
<a id="__codelineno-25-39" name="__codelineno-25-39" href="#__codelineno-25-39"></a><span class="w">  </span>mysql-data:
<a id="__codelineno-25-40" name="__codelineno-25-40" href="#__codelineno-25-40"></a><span class="w">    </span>image:<span class="w"> </span>mysql:5.7
<a id="__codelineno-25-41" name="__codelineno-25-41" href="#__codelineno-25-41"></a><span class="w">    </span>container_name:<span class="w"> </span>mysql-data-container
<a id="__codelineno-25-42" name="__codelineno-25-42" href="#__codelineno-25-42"></a><span class="w">    </span>volumes:
<a id="__codelineno-25-43" name="__codelineno-25-43" href="#__codelineno-25-43"></a><span class="w">      </span>-<span class="w"> </span>/var/lib/mysql
<a id="__codelineno-25-44" name="__codelineno-25-44" href="#__codelineno-25-44"></a><span class="w">    </span>command:<span class="w"> </span><span class="s2">&quot;true&quot;</span>
</code></pre></div>
<p>Despu√©s de guardar este archivo, editamos el archivo <code>index.php</code> y hacemos algunos cambios para comprobar la conexi√≥n a la base de datos.</p>
<p>El archivo <code>index.php</code> debe quedar as√≠:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>     <span class="cp">&lt;!DOCTYPE html&gt;</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>     <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>      <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>¬°Hola mundo!<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>     <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>     <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>¬°Hola mundo!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">&lt;?php echo &#39;Estamos corriendo PHP, version: &#39; . phpversion(); ?&gt;</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>      <span class="cp">&lt;?</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="cp">       $database =&quot;mydb&quot;;</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="cp">       $user = &quot;myuser&quot;;</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="cp">       $password = &quot;password&quot;;</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="cp">       $host = &quot;mysql&quot;;</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="cp">       $connection = new PDO(&quot;mysql:host={$host};dbname={$database};charset=utf8&quot;, $user, $password);</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="cp">       $query = $connection-&gt;query(&quot;SELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_TYPE=&#39;BASE TABLE&#39;&quot;);</span>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="cp">       $tables = $query-&gt;fetchAll(PDO::FETCH_COLUMN);</span>
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="cp">        if (empty($tables)) {</span>
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="cp">          echo &quot;&lt;p&gt;No hay tablas en la base de datos \&quot;{$database}\&quot;.&lt;/p&gt;&quot;;</span>
<a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="cp">        } else {</span>
<a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a><span class="cp">          echo &quot;&lt;p&gt;La base de datos \&quot;{$database}\&quot; tiene las siguientes tablas:&lt;/p&gt;&quot;;</span>
<a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a><span class="cp">          echo &quot;&lt;ul&gt;&quot;;</span>
<a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a><span class="cp">            foreach ($tables as $table) {</span>
<a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a><span class="cp">              echo &quot;&lt;li&gt;{$table}&lt;/li&gt;&quot;;</span>
<a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a><span class="cp">            }</span>
<a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a><span class="cp">          echo &quot;&lt;/ul&gt;&quot;;</span>
<a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a><span class="cp">        }</span>
<a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a><span class="cp">        ?&gt;</span>
<a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a>    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Guardad el archivo y lanzad los contenedores una vez m√°s:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div>
<p>Y verificamos que est√°n ejecut√°ndose:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a
</code></pre></div>
Y veremos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>CONTAINER ID   IMAGE                  COMMAND                  CREATED          STATUS                      PORTS                               NAMES
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>d3e82747fe0d   mysql:5.7              &quot;docker-entrypoint.s‚Ä¶&quot;   39 seconds ago   Up 38 seconds               3306/tcp, 33060/tcp                 mysql-container
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>606320e5a7f8   mysql:5.7              &quot;docker-entrypoint.s‚Ä¶&quot;   41 seconds ago   Exited (0) 39 seconds ago                                       mysql-data-container
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>ca4f63797d11   docker-project_php     &quot;docker-php-entrypoi‚Ä¶&quot;   2 hours ago      Up 2 hours                  9000/tcp                            php-container
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>849315c7ffc0   docker-project_nginx   &quot;/docker-entrypoint.‚Ä¶&quot;   2 hours ago      Up 2 hours                  0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp   nginx-container
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>fbca95944234   php:7.0-fpm            &quot;docker-php-entrypoi‚Ä¶&quot;   2 hours ago      Exited (0) 39 seconds ago                                       app-data-
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Nuevamente usa un contenedor para alojar datos. ¬øTiene sentido usar un contenedor cuya √∫nica funci√≥n es alojar datos? ¬øQu√© otra forma nos ofrece docker para este cometido? ¬øC√≥mo podr√≠as modificar el docker-compose.yaml para hacerlo?</p>
</div>
<h3 id="6-verificacion-de-conexion-a-la-base-de-datos">6. Verificaci√≥n de conexi√≥n a la base de datos</h3>
<div class="admonition atenci√≥n">
<p class="admonition-title">Atenci√≥n</p>
<p>Puede tardar un poco en arrancarse la base de datos desde que lances el contenedor. Espera un poco si te da error de conexi√≥n a la base de datos.</p>
</div>
<p>Si ahora accedemos a <code>http://IP_Maq_Virtual</code>, deber√≠amos obtener la siguiente pantalla:</p>
<p><img alt="" src="../P2_6/db-test.png" /></p>
<p>Como pod√©is ver, nos dice que no tenemos ninguna tabla en la base de datos <em>mydb</em>.</p>
<p>Sin embargo, el hecho es que realmente s√≠ existen algunas tablas, s√≠mplemente no son visibles para un usuario normal. Si quisi√©ramos verlas, debemos editar el archivo <code>index.php</code> y cambiar <strong><code>$user</code></strong> por <em><code>root</code></em> y <strong><code>$password</code></strong> a <em><code>secret</code></em>.</p>
<p>Es decir:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>nano<span class="w"> </span>/home/usuario/www/html/index.php
</code></pre></div>
Y cambiar las l√≠neas:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="x">$user = &quot;root&quot;;</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="x">$password = &quot;secret&quot;;</span>
</code></pre></div>
Guardad el archivo y refrescad la p√°gina. Deber√≠as obtener ahora una pantalla con todas las tablas de la base de datos, tal que as√≠:</p>
<p><img alt="" src="../P2_6/db-test2.png" /></p>
<div class="admonition task">
<p class="admonition-title">Tarea</p>
<p>Esta pr√°ctica usa algunas cosas de docker que est√°n obsoletas. Aunque la pr√°ctica funciona podr√≠a mejorarse usando pr√°cticas m√°s actuales. Te propongo que modifiques el <code>docker-compose.yaml</code> para hacerlo m√°s limpio y mejorado.</p>
<p>Algunas de las cosas que podr√≠an mejorarse son:</p>
<ul>
<li>Uso de directiva <code>links</code></li>
<li>Uso de <code>volumes_from</code></li>
<li>Uso de vol√∫menes en lugar de contenedores para almacenar los datos</li>
</ul>
</div>
<h2 id="referencias">Referencias</h2>
<p><a href="https://keepcoding.io/blog/que-es-docker-compose/">¬øQu√© es Docker Compose?</a></p>
<p><a href="https://dev.to/ebarrioscode/que-demonios-es-docker-docker-compose-y-como-dockerizar-dotnet-core-webapi-y-sql-server-en-un-ambiente-de-desarrollo-ideal-95a">¬øQu√© demonios es Docker y Docker-Compose? y c√≥mo Dockerizar Dotnet Core WebApi y SQL Server en un ambiente de desarrollo ideal</a></p>
<p><a href="https://www.netmentor.es/entrada/docker-compose">Introducci√≥n a docker-compose</a></p>
<p><a href="https://www.atlantic.net/vps-hosting/how-to-deploy-a-php-application-with-nginx-and-mysql-using-docker-and-docker-compose/">How to Deploy a PHP Application with Nginx and MySQL Using Docker and Docker Compose</a></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "toc.integrate", "search.highlight", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>