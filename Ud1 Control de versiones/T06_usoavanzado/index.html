
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://laura-agut.github.io/Despliegue/Ud1%20Control%20de%20versiones/T06_usoavanzado/">
      
      
        <link rel="prev" href="../T05_usobasico/">
      
      
        <link rel="next" href="../T07_ramas/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>1.6 Uso avanzado de Git - Despliegue de aplicaciones web</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#uso-avanzado-de-git" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Despliegue de aplicaciones web" class="md-header__button md-logo" aria-label="Despliegue de aplicaciones web" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Despliegue de aplicaciones web
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1.6 Uso avanzado de Git
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-orange"  aria-label="Cambiar a modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B칰squeda" placeholder="B칰squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b칰squeda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navegaci칩n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Despliegue de aplicaciones web" class="md-nav__button md-logo" aria-label="Despliegue de aplicaciones web" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Despliegue de aplicaciones web
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Despliegue de aplicaciones web
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ud0 Introduccion
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Ud0 Introduccion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/Ud0_1Introalmodulo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0.1. Introducci칩n al m칩dulo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/Ud0_2AWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0.2. Introducci칩n a AWS Academy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/ejercicio-final-ebs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    游빍 Ejercicio final: modifica, prueba en local y despliega en Elastic Beanstalk
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pr치cticas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Pr치cticas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.1. Linux Server en AWSAcademy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.2 Windows Server en AWSAcademy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.3. Conceder acceso a un segundo administrador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.4. Comandos b치sicos Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.5: Despliegue Java en AWS Elastic Beanstalk
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="uso-avanzado-de-git">Uso avanzado de Git</h1>
<h2 id="deshacer-cambios">Deshacer cambios</h2>
<h3 id="deshaciendo-cambios-antes-de-la-fase-de-staging">Deshaciendo cambios antes de la fase de staging.</h3>
<p>Volvemos a la rama m치ster y vamos a modificar el comentario que pusimos:</p>
<div class="highlight"><pre><span></span><code>$ git checkout master
Previous HEAD position was 3283e0d... Se a침ade un par치metro por defecto
Switched to branch &#39;master&#39;
</code></pre></div>
<p>Recordamos, la situaci칩n es la siguiente:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>+-------------+  +-------------+  +-------------+  
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>|  Working    |  |   Staging   |  |    Local    | 
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>|  Directory  |  |     Area    |  |  Repository | 
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>+------+------+  +------+------+  +------+------+ 
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>       |                |                |
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>       |                |             hola.php (fd4da94) tag: v1 
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>       |                |             hola.php (3283e0d) tag: v1-beta  
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>       |                |             hola.php (efc252e)
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>       |                |             hola.php (e19f2c1) 
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>       |                |                | 
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>       +                +                +
</code></pre></div>
<p>Modificamos <em>hola.php</em> de la siguiente manera:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1">// Este comentario est치 mal y hay que borrarlo</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nv">$nombre</span> <span class="o">=</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">?</span> <span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;Mundo&quot;</span><span class="p">;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="o">@</span><span class="k">print</span> <span class="s2">&quot;Hola, </span><span class="si">{</span><span class="nv">$nombre</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="cp">?&gt;</span>
</code></pre></div>
<p>Y comprobamos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span>On<span class="w"> </span>branch<span class="w"> </span>master
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span>Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">       </span>modified:<span class="w">   </span>hola.php
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span>no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
</code></pre></div>
<p>Tenemos hola.php en Working Directory y nada en Staging Area.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>+-------------+  +-------------+  +-------------+  
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>|  Working    |  |   Staging   |  |    Local    | 
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>|  Directory  |  |     Area    |  |  Repository | 
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>+------+------+  +------+------+  +------+------+ 
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>       |                |                |
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    hola.php            |                |
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>       |                |             hola.php (fd4da94) tag: v1 
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>       |                |             hola.php (3283e0d) tag: v1-beta  
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>       |                |             hola.php (efc252e)
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>       |                |             hola.php (e19f2c1) 
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>       |                |                | 
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>       +                +                +
</code></pre></div>
<p>El mismo Git nos indica que debemos hacer para a침adir los cambios o para deshacerlos. En este caso los desharemos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>restore<span class="w"> </span>hola.php
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span>On<span class="w"> </span>branch<span class="w"> </span>master
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span>nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span>$<span class="w"> </span>cat<span class="w"> </span>hola.php
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span>&lt;?php
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span>//<span class="w"> </span>El<span class="w"> </span>nombre<span class="w"> </span>por<span class="w"> </span>defecto<span class="w"> </span>es<span class="w"> </span>Mundo
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span><span class="nv">$nombre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>isset<span class="o">(</span><span class="nv">$argv</span><span class="o">[</span><span class="m">1</span><span class="o">])</span><span class="w"> </span>?<span class="w"> </span><span class="nv">$argv</span><span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;Mundo&quot;</span><span class="p">;</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span>@print<span class="w"> </span><span class="s2">&quot;Hola, {</span><span class="nv">$nombre</span><span class="s2">}\n&quot;</span><span class="p">;</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span>?&gt;
</code></pre></div>
<h3 id="deshaciendo-cambios-antes-del-commit">Deshaciendo cambios antes del commit</h3>
<p>Vamos a hacer lo mismo que la vez anterior, pero esta vez s칤 a침adiremos el cambio al <em>staging</em> (sin hacer <em>commit</em>).
As칤 que volvemos a modificar <em>hola.php</em> igual que la anterior ocasi칩n:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c1">// Este comentario est치 mal y hay que borrarlo</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nv">$nombre</span> <span class="o">=</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">?</span> <span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;Mundo&quot;</span><span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="o">@</span><span class="k">print</span> <span class="s2">&quot;Hola, </span><span class="si">{</span><span class="nv">$nombre</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="cp">?&gt;</span>
</code></pre></div>
<p>Y lo a침adimos al <em>staging</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>hola.php
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span>On<span class="w"> </span>branch<span class="w"> </span>master
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span>Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore --staged &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">       </span>modified:<span class="w">   </span>hola.php
</code></pre></div>
<p>Ahora tenemos una nueva versi칩n de hola.php en Staging Area.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>+-------------+  +-------------+  +-------------+  
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>|  Working    |  |   Staging   |  |    Local    | 
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>|  Directory  |  |     Area    |  |  Repository | 
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>+------+------+  +------+------+  +------+------+ 
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>       |                |                |
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>       |             hola.php            |
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>       |                |             hola.php (fd4da94) tag: v1 
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>       |                |             hola.php (3283e0d) tag: v1-beta  
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>       |                |             hola.php (efc252e)
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>       |                |             hola.php (e19f2c1) 
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>       |                |                | 
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>       +                +                +
</code></pre></div>
<p>De nuevo, Git nos indica qu칠 debemos hacer para deshacer el cambio. Primero lo sacamos del Staging Area.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>restore<span class="w"> </span>--staged<span class="w"> </span>hola.php
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span>On<span class="w"> </span>branch<span class="w"> </span>master
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span>Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">       </span>modified:<span class="w">   </span>hola.php
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">    </span>no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
</code></pre></div>
<p>Vuelve a estar en Working Directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>+-------------+  +-------------+  +-------------+  
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>|  Working    |  |   Staging   |  |    Local    | 
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>|  Directory  |  |     Area    |  |  Repository | 
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>+------+------+  +------+------+  +------+------+ 
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>       |                |                |
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    hola.php            |                |
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>       |                |             hola.php (fd4da94) tag: v1 
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>       |                |             hola.php (3283e0d) tag: v1-beta  
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>       |                |             hola.php (efc252e)
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>       |                |             hola.php (e19f2c1) 
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>       |                |                | 
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>       +                +                +
</code></pre></div>
<p>Y ahora restaruramos la 칰ltima versi칩n en Local Repository, eliminando la versi칩n en Working Directory.</p>
<div class="highlight"><pre><span></span><code>$ git restore hola.php
</code></pre></div>
<p>Y ya tenemos nuestro repositorio limpio otra vez. Como vemos hay que hacerlo en dos pasos:
uno para pasar el fichero de Staging Area a Working Directory y limpiar as칤 la Staging Area; y otro para descartar los cambios en Working Directory.</p>
<h3 id="deshaciendo-commits-no-deseados">Deshaciendo commits no deseados.</h3>
<p>Si a pesar de todo hemos hecho un commit y nos hemos equivocado, podemos deshacerlo con la orden <code>git revert</code>.
Modificamos otra vez el archivo como antes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="c1">// Este comentario est치 mal y hay que borrarlo</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nv">$nombre</span> <span class="o">=</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">?</span> <span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;Mundo&quot;</span><span class="p">;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="o">@</span><span class="k">print</span> <span class="s2">&quot;Hola, </span><span class="si">{</span><span class="nv">$nombre</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="cp">?&gt;</span>
</code></pre></div>
<p>Pero ahora s칤 hacemos commit:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>hola.php
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Ups... este commit est치 mal.&quot;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span>master<span class="w"> </span>5a5d067<span class="o">]</span><span class="w"> </span>Ups...<span class="w"> </span>este<span class="w"> </span>commit<span class="w"> </span>est치<span class="w"> </span>mal
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">     </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">1</span><span class="w"> </span>deletion<span class="o">(</span>-<span class="o">)</span>
</code></pre></div>
<p>Bien, una vez confirmado el cambio, vamos a deshacer el cambio con la orden <code>git revert</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>revert<span class="w"> </span>HEAD<span class="w"> </span>--no-edit
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="o">[</span>master<span class="w"> </span>817407b<span class="o">]</span><span class="w"> </span>Revert<span class="w"> </span><span class="s2">&quot;Ups... este commit est치 mal&quot;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">1</span><span class="w"> </span>deletion<span class="o">(</span>-<span class="o">)</span>
</code></pre></div>
<p>Explicaci칩n del comando:</p>
<ul>
<li>git revert HEAD: Reviertes el 칰ltimo commit (el que apunta HEAD). Esto crea un nuevo commit que deshace los cambios realizados en ese commit.</li>
<li>--no-edit: Este par치metro le indica a Git que use el mensaje de commit por defecto que genera autom치ticamente (algo como "Revert 'mensaje original del commit'") y no abra el editor para modificarlo.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>hist
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span>*<span class="w"> </span>817407b<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Revert<span class="w"> </span><span class="s2">&quot;Ups... este commit est치 mal&quot;</span><span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span>*<span class="w"> </span>5a5d067<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Ups...<span class="w"> </span>este<span class="w"> </span>commit<span class="w"> </span>est치<span class="w"> </span>mal<span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span>*<span class="w"> </span>fd4da94<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Se<span class="w"> </span>a침ade<span class="w"> </span>un<span class="w"> </span>comentario<span class="w"> </span>al<span class="w"> </span>cambio<span class="w"> </span>del<span class="w"> </span>valor<span class="w"> </span>por<span class="w"> </span>defecto<span class="w"> </span><span class="o">(</span>tag:<span class="w"> </span>v1<span class="o">)</span><span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span>*<span class="w"> </span>3283e0d<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Se<span class="w"> </span>a침ade<span class="w"> </span>un<span class="w"> </span>par치metro<span class="w"> </span>por<span class="w"> </span>defecto<span class="w"> </span><span class="o">(</span>tag:<span class="w"> </span>v1-beta<span class="o">)</span><span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span>*<span class="w"> </span>efc252e<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Parametrizaci칩n<span class="w"> </span>del<span class="w"> </span>programa<span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span>*<span class="w"> </span>e19f2c1<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Creaci칩n<span class="w"> </span>del<span class="w"> </span>proyecto<span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
</code></pre></div>
<h3 id="borrar-commits-de-una-rama">Borrar commits de una rama</h3>
<p>El anterior apartado revierte un commit, pero deja huella en el historial de cambios. Para hacer que no aparezca hay que usar la orden <code>git reset</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>v1
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span>HEAD<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>at<span class="w"> </span>fd4da94<span class="w"> </span>Se<span class="w"> </span>a침ade<span class="w"> </span>un<span class="w"> </span>comentario<span class="w"> </span>al<span class="w"> </span>cambio<span class="w"> </span>del<span class="w"> </span>valor<span class="w"> </span>por<span class="w"> </span>defecto
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>hist
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span>*<span class="w"> </span>fd4da94<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Se<span class="w"> </span>a침ade<span class="w"> </span>un<span class="w"> </span>comentario<span class="w"> </span>al<span class="w"> </span>cambio<span class="w"> </span>del<span class="w"> </span>valor<span class="w"> </span>por<span class="w"> </span>defecto<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master,<span class="w"> </span>tag:<span class="w"> </span>v1<span class="o">)</span><span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩me
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span>*<span class="w"> </span>3283e0d<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Se<span class="w"> </span>a침ade<span class="w"> </span>un<span class="w"> </span>par치metro<span class="w"> </span>por<span class="w"> </span>defecto<span class="w"> </span><span class="o">(</span>tag:<span class="w"> </span>v1-beta<span class="o">)</span><span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span>*<span class="w"> </span>efc252e<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Parametrizaci칩n<span class="w"> </span>del<span class="w"> </span>programa<span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">    </span>*<span class="w"> </span>e19f2c1<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Creaci칩n<span class="w"> </span>del<span class="w"> </span>proyecto<span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
</code></pre></div>
<p>El resto de cambios no se han borrado (a칰n), simplemente no est치n accesibles porque git no sabe como referenciarlos. Si sabemos su hash podemos acceder a칰n a ellos. Pasado un tiempo, eventualmente Git tiene un recolector de basura que los borrar치. Se puede evitar etiquetando el estado final.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>La orden <em>reset</em> es una operaci칩n delicada. Debe evitarse si no se sabe bien lo que se est치 haciendo,
sobre todo cuando se trabaja en repositorios compartidos, porque podr칤amos alterar la historia de cambios
lo cual puede provocar problemas de sincronizaci칩n.</p>
</div>
<h3 id="modificar-un-commit">Modificar un commit</h3>
<p>Esto se usa cuando hemos olvidado a침adir un cambio a un commit que acabamos de realizar. Tenemos
nuestro archivo <em>hola.php</em> de la siguiente manera:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1">// Autor: Sergio G칩mez</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="c1">// El nombre por defecto es Mundo</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="nv">$nombre</span> <span class="o">=</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">?</span> <span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;Mundo&quot;</span><span class="p">;</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="o">@</span><span class="k">print</span> <span class="s2">&quot;Hola, </span><span class="si">{</span><span class="nv">$nombre</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="cp">?&gt;</span>
</code></pre></div>
<p>Y lo confirmamos:</p>
<div class="highlight"><pre><span></span><code>$ git commit -a -m &quot;A침adido el autor del programa&quot;
[master cf405c1] A침adido el autor del programa
 1 file changed, 1 insertion(+)
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>El par치metro <code>-a</code> hace un <code>git add</code> antes de hacer <em>commit</em> de todos los archivos modificados
 o borrados (de los nuevos no), con lo que nos ahorramos un paso.</p>
</div>
<p>Ahora nos percatamos que se nos ha olvidado poner el correo electr칩nico. As칤 que volvemos a modificar nuestro archivo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="c1">// Autor: Sergio G칩mez &lt;sergio@uco.es&gt;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="c1">// El nombre por defecto es Mundo</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="nv">$nombre</span> <span class="o">=</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">?</span> <span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;Mundo&quot;</span><span class="p">;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="o">@</span><span class="k">print</span> <span class="s2">&quot;Hola, </span><span class="si">{</span><span class="nv">$nombre</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="cp">?&gt;</span>
</code></pre></div>
<p>Y en esta ocasi칩n usamos <code>commit --amend</code> que nos permite modificar el 칰ltimo estado confirmado, sustituy칠ndolo por el estado actual:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>hola.php
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>--amend<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;A침adido el autor del programa y su email&quot;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="o">[</span>master<span class="w"> </span>96a39df<span class="o">]</span><span class="w"> </span>A침adido<span class="w"> </span>el<span class="w"> </span>autor<span class="w"> </span>del<span class="w"> </span>programa<span class="w"> </span>y<span class="w"> </span>su<span class="w"> </span>email
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">     </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>hist
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span>*<span class="w"> </span>96a39df<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>A침adido<span class="w"> </span>el<span class="w"> </span>autor<span class="w"> </span>del<span class="w"> </span>programa<span class="w"> </span>y<span class="w"> </span>su<span class="w"> </span>email<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">    </span>*<span class="w"> </span>fd4da94<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Se<span class="w"> </span>a침ade<span class="w"> </span>un<span class="w"> </span>comentario<span class="w"> </span>al<span class="w"> </span>cambio<span class="w"> </span>del<span class="w"> </span>valor<span class="w"> </span>por<span class="w"> </span>defecto<span class="w"> </span><span class="o">(</span>tag:<span class="w"> </span>v1<span class="o">)</span><span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">    </span>*<span class="w"> </span>3283e0d<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Se<span class="w"> </span>a침ade<span class="w"> </span>un<span class="w"> </span>par치metro<span class="w"> </span>por<span class="w"> </span>defecto<span class="w"> </span><span class="o">(</span>tag:<span class="w"> </span>v1-beta<span class="o">)</span><span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">    </span>*<span class="w"> </span>efc252e<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Parametrizaci칩n<span class="w"> </span>del<span class="w"> </span>programa<span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">    </span>*<span class="w"> </span>e19f2c1<span class="w"> </span><span class="m">2013</span>-06-16<span class="w"> </span><span class="p">|</span><span class="w"> </span>Creaci칩n<span class="w"> </span>del<span class="w"> </span>proyecto<span class="w"> </span><span class="o">[</span>Sergio<span class="w"> </span>G칩mez<span class="o">]</span>
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Nunca modifiques un <em>commit</em> que ya hayas sincronizado con otro repositorio o que hayas recibido de 칠l. Estar칤as alterando la historia de cambios y provocar칤as problemas de sincronizaci칩n.</p>
</div>
<h2 id="moviendo-y-borrando-archivos">Moviendo y borrando archivos</h2>
<h3 id="mover-un-archivo-a-otro-directorio-con-git">Mover un archivo a otro directorio con git</h3>
<p>Para mover archivos usaremos la orden <code>git mv</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="w">    </span>$<span class="w"> </span>mkdir<span class="w"> </span>lib
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>mv<span class="w"> </span>hola.php<span class="w"> </span>lib
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">    </span>On<span class="w"> </span>branch<span class="w"> </span>master
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">    </span>Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">      </span>renamed:<span class="w">    </span>hola.php<span class="w"> </span>-&gt;<span class="w"> </span>lib/hola.php
</code></pre></div>
<h3 id="mover-y-borrar-archivos">Mover y borrar archivos.</h3>
<p>Pod칤amos haber hecho el paso anterior con la 칩rden del sistema <em>mv</em> y el resultado hubiera sido el mismo. Lo siguiente es a modo de ejemplo y no es necesario que lo ejecutes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="w">    </span>$<span class="w"> </span>mkdir<span class="w"> </span>lib
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span>$<span class="w"> </span>mv<span class="w"> </span>hola.php<span class="w"> </span>lib
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>lib/hola.php
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>rm<span class="w"> </span>hola.php
</code></pre></div>
<p>Y, ahora s칤, ya podemos guardar los cambios:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Movido hola.php a lib.&quot;</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="o">[</span>master<span class="w"> </span>8c2a509<span class="o">]</span><span class="w"> </span>Movido<span class="w"> </span>hola.php<span class="w"> </span>a<span class="w"> </span>lib.
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">     </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">0</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">0</span><span class="w"> </span>deletions<span class="o">(</span>-<span class="o">)</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">     </span>rename<span class="w"> </span>hola.php<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>lib/hola.php<span class="w"> </span><span class="o">(</span><span class="m">100</span>%<span class="o">)</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Hasta aqu칤 hemos aprendido los aspectos b치sicos de git trabajando en entorno local. Hemos instalado git, configurado sus par치metros globales, creado un proyecto y aprendido los 3 estados en los que puede estar un archivo. Tambi칠n hemos aprendido los comandos para incorporar cambios a la zona "staged" y a "working directory". En las pr칩ximas secciones aprenderemos a trabajar con ramas y a utilizar un repositorio compartido en GitHub</p>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "toc.integrate", "search.highlight", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>