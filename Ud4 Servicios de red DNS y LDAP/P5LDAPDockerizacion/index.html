
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://laura-agut.github.io/Despliegue/Ud4%20Servicios%20de%20red%20DNS%20y%20LDAP/P5LDAPDockerizacion/">
      
      
        <link rel="prev" href="../P4LDAPFicheros/">
      
      
        <link rel="next" href="../P6AutenticacionApacheLDAP/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>Práctica 5 - Dockerización de servidor LDAP - Despliegue de aplicaciones web</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-5-dockerizacion-de-servidor-ldap" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Despliegue de aplicaciones web" class="md-header__button md-logo" aria-label="Despliegue de aplicaciones web" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Despliegue de aplicaciones web
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Práctica 5 - Dockerización de servidor LDAP
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-orange"  aria-label="Cambiar a modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Despliegue de aplicaciones web" class="md-nav__button md-logo" aria-label="Despliegue de aplicaciones web" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Despliegue de aplicaciones web
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Despliegue de aplicaciones web
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ud0 Introduccion
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Ud0 Introduccion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/Ud0_1Introalmodulo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0.1. Introducción al módulo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/Ud0_2AWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0.2. Introducción a AWS Academy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/ejercicio-final-ebs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    🧪 Ejercicio final: modifica, prueba en local y despliega en Elastic Beanstalk
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Prácticas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Prácticas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.1. Linux Server en AWSAcademy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.2 Windows Server en AWSAcademy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.3. Conceder acceso a un segundo administrador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.4. Comandos básicos Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ud0%20Introduccion/P0_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P0.5: Despliegue Java en AWS Elastic Beanstalk
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="practica-5-dockerizacion-de-servidor-ldap">Práctica 5 - Dockerización de servidor LDAP</h1>
<p>Para dockerizar la instalación de OpenLDAP vamos a hacer uso de la imagen oficial de OpenLdap en Docker Hub, que se llama <a href="https://hub.docker.com/r/osixia/openldap">osixia/openldap</a> </p>
<p>Si vamos a la página de ayuda, que está en GitHub, y buscamos la zona de "Beninner Guide" encontraremos este ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>docker run \
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    --env LDAP_ORGANISATION=&quot;My Company&quot; \
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    --env LDAP_DOMAIN=&quot;my-company.com&quot; \
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    --env LDAP_ADMIN_PASSWORD=&quot;JonSn0w&quot; \
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    --detach osixia/openldap:1.5.0
</code></pre></div>
<p>Lanza el contenedor y usa docker exec para comprobar si se ha creado correctamente la base de datos</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$ docker exec NOMBRECONTENEDOR slapcat
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>dn: dc=my-company,dc=com
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>objectClass: top
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>objectClass: dcObject
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>objectClass: organization
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>o: My Company
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>dc: my-company
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>structuralObjectClass: organization
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>entryUUID: 43981890-445c-103f-8edc-4796c2319b7e
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>creatorsName: cn=admin,dc=my-company,dc=com
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>createTimestamp: 20241201181726Z
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>entryCSN: 20241201181726.949230Z#000000#000#000000
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>modifiersName: cn=admin,dc=my-company,dc=com
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>modifyTimestamp: 20241201181726Z
</code></pre></div>
<p>Vemos, pues, que es muy rápido y sencillo crear un contenedor LDAP. Borra el contenedor creado y crea uno nuevo, con la misma base de datos que creamos en la "Práctica 3 - Configuración de un servidor LDAP"</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>docker run \
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    --name ldap-service \
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    --env LDAP_ORGANISATION=&quot;daw.ieselcaminas&quot; \
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    --env LDAP_DOMAIN=&quot;daw.ieselcaminas&quot; \
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    --env LDAP_ADMIN_PASSWORD=&quot;ieselcaminas&quot; \
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    --detach osixia/openldap
</code></pre></div>
<p>Y prueba si se ha creado la base de datos openldap correctamente</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>$ docker exec ldap-service slapcat
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>dn: dc=daw,dc=ieselcaminas
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>objectClass: top
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>objectClass: dcObject
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>objectClass: organization
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>o: daw.ieselcaminas
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>dc: daw
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>structuralObjectClass: organization
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>entryUUID: 26a0e0d8-445b-103f-9969-692c79a37c92
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>creatorsName: cn=admin,dc=daw,dc=ieselcaminas
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>createTimestamp: 20241201180928Z
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>entryCSN: 20241201180928.856139Z#000000#000#000000
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>modifiersName: cn=admin,dc=daw,dc=ieselcaminas
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>modifyTimestamp: 20241201180928Z
</code></pre></div>
<p>Ahora ya podríamos rellenar la base de datos mediante ficheros ldif como vimos en la práctica anterior. Pero si preferimos usar el interfaz gráfico de phpldapadmin tenemos otro contenedor oficial a nuestra disposición <a href="https://github.com/osixia/docker-phpLDAPadmin">https://hub.docker.com/r/osixia/phpldapadmin</a>.</p>
<p>Para seguir la práctica borra el contenedor ldap-service porque lo volveremos a crear ligeramente modificado.</p>
<p>Como el contenedor que contendrá la base de datos de openldap y el que contendrá phpldapadmin deben interactuar, podríamos hacer uso de la opción <code>--link</code> que hemos usado en otras ocasiones y que nos propone la ayuda del contenedor. Pero esa opción ya está obsoleta y es mejor usar redes docker. Es una buena excusa para introducirlas. Una red docker es una red virtual que pueden usar los contenedores para comunicarse entre ellos. Crearemos una red que llamaremos <code>ldap-netword</code> y que usarán ambos contenedores. Además, le daremos un <code>hostname</code> dentro de la red a cada uno para que puedan referirse uno al otro.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>docker network create ldap-network
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>docker run \
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    --net ldap-network \
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    --hostname ldap-service \
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    --name ldap-service \
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    --env LDAP_ORGANISATION=&quot;daw.ieselcaminas&quot; \
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    --env LDAP_DOMAIN=&quot;daw.ieselcaminas&quot; \
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    --env LDAP_ADMIN_PASSWORD=&quot;ieselcaminas&quot; \
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    --detach osixia/openldap
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>docker run \
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    --net ldap-network \
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>    --name phpldapadmin-service \
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    --publish 443:443 \
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    --hostname phpldapadmin-service \
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>    --env PHPLDAPADMIN_LDAP_HOSTS=ldap-service \
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>    --detach osixia/phpldapadmin
</code></pre></div>
<p>El primer comando creará la red que usarán ambos. Con <code>--net</code> les diremos que usen dicha red. Y con <code>--hostname</code> les asignaremos un nombre de red.</p>
<p>Al crear el contenedor de <code>phpldapadmin-service</code> usaremos <code>--env PHPLDAPADMIN_LDAP_HOSTS=ldap-service</code> para decirle a phpldapadmin cuál es el host que contiene el servidor ldap al que debe acceder.</p>
<p>Si todo va bien podremos acceder a phpldapadmin desde el navegador con <code>https://IPSERVIDOR</code></p>
<div class="admonition tarea">
<p class="admonition-title">Tarea</p>
<p>Hemos lanzado los 2 servicios usando comandos docker run. ¿Podrías crear ambos contenedores usando docker-compose para levantar todo el servicio en un solo comando?</p>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "toc.integrate", "search.highlight", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>